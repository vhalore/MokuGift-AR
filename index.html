<!DOCTYPE html>
<html>
<head>
  <title>MokuGift AR (Marker)</title>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.min.js"></script>
  <style>
    body { margin: 0; overflow: hidden; }
    #ar-container { position: fixed; width: 100%; height: 100%; }
  </style>
</head>
<body>
  <!-- AR Scene -->
  <div id="ar-container">
    <a-scene embedded arjs="detectionMode: mono_and_matrix; matrixCodeType: 3x3;">
      <!-- Use the Hiro marker -->
      <a-marker type="pattern" preset="hiro" url="assets/hiro.png">
        <a-entity 
          gltf-model="models/3d.glb"
          scale="0.1 0.1 0.1"
          position="0 0 0">
        </a-entity>
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>
  </div>

  <!-- Fallback for non-AR devices -->
  <div id="fallback" style="display: none; text-align: center; padding: 20px;">
    <h2>AR not supported</h2>
    <p>Use Chrome/Safari on another device, or print the <a href="assets/hiro.png" download>AR marker</a>.</p>
  </div>

  <script>
    // Show fallback if AR.js fails
    if (!AFRAME.utils.device.checkARSupport()) {
      document.getElementById('ar-container').style.display = 'none';
      document.getElementById('fallback').style.display = 'block';
    }
  </script>
</body>
</html>
